import{r as ue}from"./md-vendor_strnum-DFcM6N3c.js";var L={},q={},Z;function W(){return Z||(Z=1,function(P){const I=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",T=I+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",S="["+I+"]["+T+"]*",V=new RegExp("^"+S+"$"),v=function(i,u){const t=[];let e=u.exec(i);for(;e;){const h=[];h.startIndex=u.lastIndex-e[0].length;const d=e.length;for(let y=0;y<d;y++)h.push(e[y]);t.push(h),e=u.exec(i)}return t},o=function(i){const u=V.exec(i);return!(u===null||typeof u>"u")};P.isExist=function(i){return typeof i<"u"},P.isEmptyObject=function(i){return Object.keys(i).length===0},P.merge=function(i,u,t){if(u){const e=Object.keys(u),h=e.length;for(let d=0;d<h;d++)t==="strict"?i[e[d]]=[u[e[d]]]:i[e[d]]=u[e[d]]}},P.getValue=function(i){return P.isExist(i)?i:""},P.isName=o,P.getAllMatches=v,P.nameRegexp=S}(q)),q}var z;function oe(){if(z)return L;z=1;const P=W(),I={allowBooleanAttributes:!1,unpairedTags:[]};L.validate=function(r,f){f=Object.assign({},I,f);const N=[];let n=!1,c=!1;r[0]==="\uFEFF"&&(r=r.substr(1));for(let s=0;s<r.length;s++)if(r[s]==="<"&&r[s+1]==="?"){if(s+=2,s=S(r,s),s.err)return s}else if(r[s]==="<"){let p=s;if(s++,r[s]==="!"){s=V(r,s);continue}else{let g=!1;r[s]==="/"&&(g=!0,s++);let l="";for(;s<r.length&&r[s]!==">"&&r[s]!==" "&&r[s]!=="	"&&r[s]!==`
`&&r[s]!=="\r";s++)l+=r[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!m(l)){let a;return l.trim().length===0?a="Invalid space after '<'.":a="Tag '"+l+"' is an invalid name.",d("InvalidTag",a,E(r,s))}const w=i(r,s);if(w===!1)return d("InvalidAttr","Attributes for '"+l+"' have open quote.",E(r,s));let b=w.value;if(s=w.index,b[b.length-1]==="/"){const a=s-b.length;b=b.substring(0,b.length-1);const A=t(b,f);if(A===!0)n=!0;else return d(A.err.code,A.err.msg,E(r,a+A.err.line))}else if(g)if(w.tagClosed){if(b.trim().length>0)return d("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",E(r,p));if(N.length===0)return d("InvalidTag","Closing tag '"+l+"' has not been opened.",E(r,p));{const a=N.pop();if(l!==a.tagName){let A=E(r,a.tagStartPos);return d("InvalidTag","Expected closing tag '"+a.tagName+"' (opened in line "+A.line+", col "+A.col+") instead of closing tag '"+l+"'.",E(r,p))}N.length==0&&(c=!0)}}else return d("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",E(r,s));else{const a=t(b,f);if(a!==!0)return d(a.err.code,a.err.msg,E(r,s-b.length+a.err.line));if(c===!0)return d("InvalidXml","Multiple possible root nodes found.",E(r,s));f.unpairedTags.indexOf(l)!==-1||N.push({tagName:l,tagStartPos:p}),n=!0}for(s++;s<r.length;s++)if(r[s]==="<")if(r[s+1]==="!"){s++,s=V(r,s);continue}else if(r[s+1]==="?"){if(s=S(r,++s),s.err)return s}else break;else if(r[s]==="&"){const a=h(r,s);if(a==-1)return d("InvalidChar","char '&' is not expected.",E(r,s));s=a}else if(c===!0&&!T(r[s]))return d("InvalidXml","Extra text at the end",E(r,s));r[s]==="<"&&s--}}else{if(T(r[s]))continue;return d("InvalidChar","char '"+r[s]+"' is not expected.",E(r,s))}if(n){if(N.length==1)return d("InvalidTag","Unclosed tag '"+N[0].tagName+"'.",E(r,N[0].tagStartPos));if(N.length>0)return d("InvalidXml","Invalid '"+JSON.stringify(N.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return d("InvalidXml","Start tag expected.",1);return!0};function T(r){return r===" "||r==="	"||r===`
`||r==="\r"}function S(r,f){const N=f;for(;f<r.length;f++)if(r[f]=="?"||r[f]==" "){const n=r.substr(N,f-N);if(f>5&&n==="xml")return d("InvalidXml","XML declaration allowed only at the start of the document.",E(r,f));if(r[f]=="?"&&r[f+1]==">"){f++;break}else continue}return f}function V(r,f){if(r.length>f+5&&r[f+1]==="-"&&r[f+2]==="-"){for(f+=3;f<r.length;f++)if(r[f]==="-"&&r[f+1]==="-"&&r[f+2]===">"){f+=2;break}}else if(r.length>f+8&&r[f+1]==="D"&&r[f+2]==="O"&&r[f+3]==="C"&&r[f+4]==="T"&&r[f+5]==="Y"&&r[f+6]==="P"&&r[f+7]==="E"){let N=1;for(f+=8;f<r.length;f++)if(r[f]==="<")N++;else if(r[f]===">"&&(N--,N===0))break}else if(r.length>f+9&&r[f+1]==="["&&r[f+2]==="C"&&r[f+3]==="D"&&r[f+4]==="A"&&r[f+5]==="T"&&r[f+6]==="A"&&r[f+7]==="["){for(f+=8;f<r.length;f++)if(r[f]==="]"&&r[f+1]==="]"&&r[f+2]===">"){f+=2;break}}return f}const v='"',o="'";function i(r,f){let N="",n="",c=!1;for(;f<r.length;f++){if(r[f]===v||r[f]===o)n===""?n=r[f]:n!==r[f]||(n="");else if(r[f]===">"&&n===""){c=!0;break}N+=r[f]}return n!==""?!1:{value:N,index:f,tagClosed:c}}const u=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function t(r,f){const N=P.getAllMatches(r,u),n={};for(let c=0;c<N.length;c++){if(N[c][1].length===0)return d("InvalidAttr","Attribute '"+N[c][2]+"' has no space in starting.",C(N[c]));if(N[c][3]!==void 0&&N[c][4]===void 0)return d("InvalidAttr","Attribute '"+N[c][2]+"' is without value.",C(N[c]));if(N[c][3]===void 0&&!f.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+N[c][2]+"' is not allowed.",C(N[c]));const s=N[c][2];if(!y(s))return d("InvalidAttr","Attribute '"+s+"' is an invalid name.",C(N[c]));if(!n.hasOwnProperty(s))n[s]=1;else return d("InvalidAttr","Attribute '"+s+"' is repeated.",C(N[c]))}return!0}function e(r,f){let N=/\d/;for(r[f]==="x"&&(f++,N=/[\da-fA-F]/);f<r.length;f++){if(r[f]===";")return f;if(!r[f].match(N))break}return-1}function h(r,f){if(f++,r[f]===";")return-1;if(r[f]==="#")return f++,e(r,f);let N=0;for(;f<r.length;f++,N++)if(!(r[f].match(/\w/)&&N<20)){if(r[f]===";")break;return-1}return f}function d(r,f,N){return{err:{code:r,msg:f,line:N.line||N,col:N.col}}}function y(r){return P.isName(r)}function m(r){return P.isName(r)}function E(r,f){const N=r.substring(0,f).split(/\r?\n/);return{line:N.length,col:N[N.length-1].length+1}}function C(r){return r.startIndex+r[1].length}return L}var F={},H;function fe(){if(H)return F;H=1;const P={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(T,S){return S},attributeValueProcessor:function(T,S){return S},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(T,S,V){return T}},I=function(T){return Object.assign({},P,T)};return F.buildOptions=I,F.defaultOptions=P,F}var X,j;function le(){if(j)return X;j=1;class P{constructor(T){this.tagname=T,this.child=[],this[":@"]={}}add(T,S){T==="__proto__"&&(T="#__proto__"),this.child.push({[T]:S})}addChild(T){T.tagname==="__proto__"&&(T.tagname="#__proto__"),T[":@"]&&Object.keys(T[":@"]).length>0?this.child.push({[T.tagname]:T.child,":@":T[":@"]}):this.child.push({[T.tagname]:T.child})}}return X=P,X}var B,D;function ae(){if(D)return B;D=1;const P=W();function I(t,e){const h={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let d=1,y=!1,m=!1,E="";for(;e<t.length;e++)if(t[e]==="<"&&!m){if(y&&V(t,e))e+=7,[entityName,val,e]=T(t,e+1),val.indexOf("&")===-1&&(h[u(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(y&&v(t,e))e+=8;else if(y&&o(t,e))e+=8;else if(y&&i(t,e))e+=9;else if(S)m=!0;else throw new Error("Invalid DOCTYPE");d++,E=""}else if(t[e]===">"){if(m?t[e-1]==="-"&&t[e-2]==="-"&&(m=!1,d--):d--,d===0)break}else t[e]==="["?y=!0:E+=t[e];if(d!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:h,i:e}}function T(t,e){let h="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)h+=t[e];if(h=h.trim(),h.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=t[e++];let y="";for(;e<t.length&&t[e]!==d;e++)y+=t[e];return[h,y,e]}function S(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function V(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function v(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function o(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function i(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function u(t){if(P.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}return B=I,B}var M,ee;function de(){if(ee)return M;ee=1;const P=W(),I=le(),T=ae(),S=ue();class V{constructor(c){this.options=c,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(s,p)=>String.fromCharCode(Number.parseInt(p,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(s,p)=>String.fromCharCode(Number.parseInt(p,16))}},this.addExternalEntities=v,this.parseXml=e,this.parseTextData=o,this.resolveNameSpace=i,this.buildAttributesMap=t,this.isItStopNode=m,this.replaceEntitiesValue=d,this.readStopNodeData=f,this.saveTextToParentTag=y,this.addChild=h}}function v(n){const c=Object.keys(n);for(let s=0;s<c.length;s++){const p=c[s];this.lastEntities[p]={regex:new RegExp("&"+p+";","g"),val:n[p]}}}function o(n,c,s,p,g,l,w){if(n!==void 0&&(this.options.trimValues&&!p&&(n=n.trim()),n.length>0)){w||(n=this.replaceEntitiesValue(n));const b=this.options.tagValueProcessor(c,n,s,g,l);return b==null?n:typeof b!=typeof n||b!==n?b:this.options.trimValues?N(n,this.options.parseTagValue,this.options.numberParseOptions):n.trim()===n?N(n,this.options.parseTagValue,this.options.numberParseOptions):n}}function i(n){if(this.options.removeNSPrefix){const c=n.split(":"),s=n.charAt(0)==="/"?"/":"";if(c[0]==="xmlns")return"";c.length===2&&(n=s+c[1])}return n}const u=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function t(n,c,s){if(!this.options.ignoreAttributes&&typeof n=="string"){const p=P.getAllMatches(n,u),g=p.length,l={};for(let w=0;w<g;w++){const b=this.resolveNameSpace(p[w][1]);let a=p[w][4],A=this.options.attributeNamePrefix+b;if(b.length)if(this.options.transformAttributeName&&(A=this.options.transformAttributeName(A)),A==="__proto__"&&(A="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);const O=this.options.attributeValueProcessor(b,a,c);O==null?l[A]=a:typeof O!=typeof a||O!==a?l[A]=O:l[A]=N(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(l[A]=!0)}if(!Object.keys(l).length)return;if(this.options.attributesGroupName){const w={};return w[this.options.attributesGroupName]=l,w}return l}}const e=function(n){n=n.replace(/\r\n?/g,`
`);const c=new I("!xml");let s=c,p="",g="";for(let l=0;l<n.length;l++)if(n[l]==="<")if(n[l+1]==="/"){const b=C(n,">",l,"Closing Tag is not closed.");let a=n.substring(l+2,b).trim();if(this.options.removeNSPrefix){const _=a.indexOf(":");_!==-1&&(a=a.substr(_+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),s&&(p=this.saveTextToParentTag(p,s,g));const A=g.substring(g.lastIndexOf(".")+1);if(a&&this.options.unpairedTags.indexOf(a)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);let O=0;A&&this.options.unpairedTags.indexOf(A)!==-1?(O=g.lastIndexOf(".",g.lastIndexOf(".")-1),this.tagsNodeStack.pop()):O=g.lastIndexOf("."),g=g.substring(0,O),s=this.tagsNodeStack.pop(),p="",l=b}else if(n[l+1]==="?"){let b=r(n,l,!1,"?>");if(!b)throw new Error("Pi Tag is not closed.");if(p=this.saveTextToParentTag(p,s,g),!(this.options.ignoreDeclaration&&b.tagName==="?xml"||this.options.ignorePiTags)){const a=new I(b.tagName);a.add(this.options.textNodeName,""),b.tagName!==b.tagExp&&b.attrExpPresent&&(a[":@"]=this.buildAttributesMap(b.tagExp,g,b.tagName)),this.addChild(s,a,g)}l=b.closeIndex+1}else if(n.substr(l+1,3)==="!--"){const b=C(n,"-->",l+4,"Comment is not closed.");if(this.options.commentPropName){const a=n.substring(l+4,b-2);p=this.saveTextToParentTag(p,s,g),s.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}l=b}else if(n.substr(l+1,2)==="!D"){const b=T(n,l);this.docTypeEntities=b.entities,l=b.i}else if(n.substr(l+1,2)==="!["){const b=C(n,"]]>",l,"CDATA is not closed.")-2,a=n.substring(l+9,b);p=this.saveTextToParentTag(p,s,g);let A=this.parseTextData(a,s.tagname,g,!0,!1,!0,!0);A==null&&(A=""),this.options.cdataPropName?s.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]):s.add(this.options.textNodeName,A),l=b+2}else{let b=r(n,l,this.options.removeNSPrefix),a=b.tagName;const A=b.rawTagName;let O=b.tagExp,_=b.attrExpPresent,K=b.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),s&&p&&s.tagname!=="!xml"&&(p=this.saveTextToParentTag(p,s,g,!1));const Q=s;if(Q&&this.options.unpairedTags.indexOf(Q.tagname)!==-1&&(s=this.tagsNodeStack.pop(),g=g.substring(0,g.lastIndexOf("."))),a!==c.tagname&&(g+=g?"."+a:a),this.isItStopNode(this.options.stopNodes,g,a)){let x="";if(O.length>0&&O.lastIndexOf("/")===O.length-1)a[a.length-1]==="/"?(a=a.substr(0,a.length-1),g=g.substr(0,g.length-1),O=a):O=O.substr(0,O.length-1),l=b.closeIndex;else if(this.options.unpairedTags.indexOf(a)!==-1)l=b.closeIndex;else{const $=this.readStopNodeData(n,A,K+1);if(!$)throw new Error(`Unexpected end of ${A}`);l=$.i,x=$.tagContent}const R=new I(a);a!==O&&_&&(R[":@"]=this.buildAttributesMap(O,g,a)),x&&(x=this.parseTextData(x,a,g,!0,_,!0,!0)),g=g.substr(0,g.lastIndexOf(".")),R.add(this.options.textNodeName,x),this.addChild(s,R,g)}else{if(O.length>0&&O.lastIndexOf("/")===O.length-1){a[a.length-1]==="/"?(a=a.substr(0,a.length-1),g=g.substr(0,g.length-1),O=a):O=O.substr(0,O.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const x=new I(a);a!==O&&_&&(x[":@"]=this.buildAttributesMap(O,g,a)),this.addChild(s,x,g),g=g.substr(0,g.lastIndexOf("."))}else{const x=new I(a);this.tagsNodeStack.push(s),a!==O&&_&&(x[":@"]=this.buildAttributesMap(O,g,a)),this.addChild(s,x,g),s=x}p="",l=K}}else p+=n[l];return c.child};function h(n,c,s){const p=this.options.updateTag(c.tagname,s,c[":@"]);p===!1||(typeof p=="string"&&(c.tagname=p),n.addChild(c))}const d=function(n){if(this.options.processEntities){for(let c in this.docTypeEntities){const s=this.docTypeEntities[c];n=n.replace(s.regx,s.val)}for(let c in this.lastEntities){const s=this.lastEntities[c];n=n.replace(s.regex,s.val)}if(this.options.htmlEntities)for(let c in this.htmlEntities){const s=this.htmlEntities[c];n=n.replace(s.regex,s.val)}n=n.replace(this.ampEntity.regex,this.ampEntity.val)}return n};function y(n,c,s,p){return n&&(p===void 0&&(p=Object.keys(c.child).length===0),n=this.parseTextData(n,c.tagname,s,!1,c[":@"]?Object.keys(c[":@"]).length!==0:!1,p),n!==void 0&&n!==""&&c.add(this.options.textNodeName,n),n=""),n}function m(n,c,s){const p="*."+s;for(const g in n){const l=n[g];if(p===l||c===l)return!0}return!1}function E(n,c,s=">"){let p,g="";for(let l=c;l<n.length;l++){let w=n[l];if(p)w===p&&(p="");else if(w==='"'||w==="'")p=w;else if(w===s[0])if(s[1]){if(n[l+1]===s[1])return{data:g,index:l}}else return{data:g,index:l};else w==="	"&&(w=" ");g+=w}}function C(n,c,s,p){const g=n.indexOf(c,s);if(g===-1)throw new Error(p);return g+c.length-1}function r(n,c,s,p=">"){const g=E(n,c+1,p);if(!g)return;let l=g.data;const w=g.index,b=l.search(/\s/);let a=l,A=!0;b!==-1&&(a=l.substring(0,b),l=l.substring(b+1).trimStart());const O=a;if(s){const _=a.indexOf(":");_!==-1&&(a=a.substr(_+1),A=a!==g.data.substr(_+1))}return{tagName:a,tagExp:l,closeIndex:w,attrExpPresent:A,rawTagName:O}}function f(n,c,s){const p=s;let g=1;for(;s<n.length;s++)if(n[s]==="<")if(n[s+1]==="/"){const l=C(n,">",s,`${c} is not closed`);if(n.substring(s+2,l).trim()===c&&(g--,g===0))return{tagContent:n.substring(p,s),i:l};s=l}else if(n[s+1]==="?")s=C(n,"?>",s+1,"StopNode is not closed.");else if(n.substr(s+1,3)==="!--")s=C(n,"-->",s+3,"StopNode is not closed.");else if(n.substr(s+1,2)==="![")s=C(n,"]]>",s,"StopNode is not closed.")-2;else{const l=r(n,s,">");l&&((l&&l.tagName)===c&&l.tagExp[l.tagExp.length-1]!=="/"&&g++,s=l.closeIndex)}}function N(n,c,s){if(c&&typeof n=="string"){const p=n.trim();return p==="true"?!0:p==="false"?!1:S(n,s)}else return P.isExist(n)?n:""}return M=V,M}var k={},te;function ce(){if(te)return k;te=1;function P(v,o){return I(v,o)}function I(v,o,i){let u;const t={};for(let e=0;e<v.length;e++){const h=v[e],d=T(h);let y="";if(i===void 0?y=d:y=i+"."+d,d===o.textNodeName)u===void 0?u=h[d]:u+=""+h[d];else{if(d===void 0)continue;if(h[d]){let m=I(h[d],o,y);const E=V(m,o);h[":@"]?S(m,h[":@"],y,o):Object.keys(m).length===1&&m[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?m=m[o.textNodeName]:Object.keys(m).length===0&&(o.alwaysCreateTextNode?m[o.textNodeName]="":m=""),t[d]!==void 0&&t.hasOwnProperty(d)?(Array.isArray(t[d])||(t[d]=[t[d]]),t[d].push(m)):o.isArray(d,y,E)?t[d]=[m]:t[d]=m}}}return typeof u=="string"?u.length>0&&(t[o.textNodeName]=u):u!==void 0&&(t[o.textNodeName]=u),t}function T(v){const o=Object.keys(v);for(let i=0;i<o.length;i++){const u=o[i];if(u!==":@")return u}}function S(v,o,i,u){if(o){const t=Object.keys(o),e=t.length;for(let h=0;h<e;h++){const d=t[h];u.isArray(d,i+"."+d,!0,!0)?v[d]=[o[d]]:v[d]=o[d]}}}function V(v,o){const{textNodeName:i}=o,u=Object.keys(v).length;return!!(u===0||u===1&&(v[i]||typeof v[i]=="boolean"||v[i]===0))}return k.prettify=P,k}var G,se;function he(){if(se)return G;se=1;const{buildOptions:P}=fe(),I=de(),{prettify:T}=ce(),S=oe();class V{constructor(o){this.externalEntities={},this.options=P(o)}parse(o,i){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(i){i===!0&&(i={});const e=S.validate(o,i);if(e!==!0)throw Error(`${e.err.msg}:${e.err.line}:${e.err.col}`)}const u=new I(this.options);u.addExternalEntities(this.externalEntities);const t=u.parseXml(o);return this.options.preserveOrder||t===void 0?t:T(t,this.options)}addEntity(o,i){if(i.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(i==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=i}}return G=V,G}var J,re;function ge(){if(re)return J;re=1;const P=`
`;function I(i,u){let t="";return u.format&&u.indentBy.length>0&&(t=P),T(i,u,"",t)}function T(i,u,t,e){let h="",d=!1;for(let y=0;y<i.length;y++){const m=i[y],E=S(m);if(E===void 0)continue;let C="";if(t.length===0?C=E:C=`${t}.${E}`,E===u.textNodeName){let c=m[E];v(C,u)||(c=u.tagValueProcessor(E,c),c=o(c,u)),d&&(h+=e),h+=c,d=!1;continue}else if(E===u.cdataPropName){d&&(h+=e),h+=`<![CDATA[${m[E][0][u.textNodeName]}]]>`,d=!1;continue}else if(E===u.commentPropName){h+=e+`<!--${m[E][0][u.textNodeName]}-->`,d=!0;continue}else if(E[0]==="?"){const c=V(m[":@"],u),s=E==="?xml"?"":e;let p=m[E][0][u.textNodeName];p=p.length!==0?" "+p:"",h+=s+`<${E}${p}${c}?>`,d=!0;continue}let r=e;r!==""&&(r+=u.indentBy);const f=V(m[":@"],u),N=e+`<${E}${f}`,n=T(m[E],u,C,r);u.unpairedTags.indexOf(E)!==-1?u.suppressUnpairedNode?h+=N+">":h+=N+"/>":(!n||n.length===0)&&u.suppressEmptyNode?h+=N+"/>":n&&n.endsWith(">")?h+=N+`>${n}${e}</${E}>`:(h+=N+">",n&&e!==""&&(n.includes("/>")||n.includes("</"))?h+=e+u.indentBy+n+e:h+=n,h+=`</${E}>`),d=!0}return h}function S(i){const u=Object.keys(i);for(let t=0;t<u.length;t++){const e=u[t];if(i.hasOwnProperty(e)&&e!==":@")return e}}function V(i,u){let t="";if(i&&!u.ignoreAttributes)for(let e in i){if(!i.hasOwnProperty(e))continue;let h=u.attributeValueProcessor(e,i[e]);h=o(h,u),h===!0&&u.suppressBooleanAttributes?t+=` ${e.substr(u.attributeNamePrefix.length)}`:t+=` ${e.substr(u.attributeNamePrefix.length)}="${h}"`}return t}function v(i,u){i=i.substr(0,i.length-u.textNodeName.length-1);let t=i.substr(i.lastIndexOf(".")+1);for(let e in u.stopNodes)if(u.stopNodes[e]===i||u.stopNodes[e]==="*."+t)return!0;return!1}function o(i,u){if(i&&i.length>0&&u.processEntities)for(let t=0;t<u.entities.length;t++){const e=u.entities[t];i=i.replace(e.regex,e.val)}return i}return J=I,J}var U,ne;function pe(){if(ne)return U;ne=1;const P=ge(),I={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,i){return i},attributeValueProcessor:function(o,i){return i},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function T(o){this.options=Object.assign({},I,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=v),this.processTextOrObjNode=S,this.options.format?(this.indentate=V,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}T.prototype.build=function(o){return this.options.preserveOrder?P(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},T.prototype.j2x=function(o,i){let u="",t="";for(let e in o)if(Object.prototype.hasOwnProperty.call(o,e))if(typeof o[e]>"u")this.isAttribute(e)&&(t+="");else if(o[e]===null)this.isAttribute(e)?t+="":e[0]==="?"?t+=this.indentate(i)+"<"+e+"?"+this.tagEndChar:t+=this.indentate(i)+"<"+e+"/"+this.tagEndChar;else if(o[e]instanceof Date)t+=this.buildTextValNode(o[e],e,"",i);else if(typeof o[e]!="object"){const h=this.isAttribute(e);if(h)u+=this.buildAttrPairStr(h,""+o[e]);else if(e===this.options.textNodeName){let d=this.options.tagValueProcessor(e,""+o[e]);t+=this.replaceEntitiesValue(d)}else t+=this.buildTextValNode(o[e],e,"",i)}else if(Array.isArray(o[e])){const h=o[e].length;let d="",y="";for(let m=0;m<h;m++){const E=o[e][m];if(!(typeof E>"u"))if(E===null)e[0]==="?"?t+=this.indentate(i)+"<"+e+"?"+this.tagEndChar:t+=this.indentate(i)+"<"+e+"/"+this.tagEndChar;else if(typeof E=="object")if(this.options.oneListGroup){const C=this.j2x(E,i+1);d+=C.val,this.options.attributesGroupName&&E.hasOwnProperty(this.options.attributesGroupName)&&(y+=C.attrStr)}else d+=this.processTextOrObjNode(E,e,i);else if(this.options.oneListGroup){let C=this.options.tagValueProcessor(e,E);C=this.replaceEntitiesValue(C),d+=C}else d+=this.buildTextValNode(E,e,"",i)}this.options.oneListGroup&&(d=this.buildObjectNode(d,e,y,i)),t+=d}else if(this.options.attributesGroupName&&e===this.options.attributesGroupName){const h=Object.keys(o[e]),d=h.length;for(let y=0;y<d;y++)u+=this.buildAttrPairStr(h[y],""+o[e][h[y]])}else t+=this.processTextOrObjNode(o[e],e,i);return{attrStr:u,val:t}},T.prototype.buildAttrPairStr=function(o,i){return i=this.options.attributeValueProcessor(o,""+i),i=this.replaceEntitiesValue(i),this.options.suppressBooleanAttributes&&i==="true"?" "+o:" "+o+'="'+i+'"'};function S(o,i,u){const t=this.j2x(o,u+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],i,t.attrStr,u):this.buildObjectNode(t.val,i,t.attrStr,u)}T.prototype.buildObjectNode=function(o,i,u,t){if(o==="")return i[0]==="?"?this.indentate(t)+"<"+i+u+"?"+this.tagEndChar:this.indentate(t)+"<"+i+u+this.closeTag(i)+this.tagEndChar;{let e="</"+i+this.tagEndChar,h="";return i[0]==="?"&&(h="?",e=""),(u||u==="")&&o.indexOf("<")===-1?this.indentate(t)+"<"+i+u+h+">"+o+e:this.options.commentPropName!==!1&&i===this.options.commentPropName&&h.length===0?this.indentate(t)+`<!--${o}-->`+this.newLine:this.indentate(t)+"<"+i+u+h+this.tagEndChar+o+this.indentate(t)+e}},T.prototype.closeTag=function(o){let i="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(i="/"):this.options.suppressEmptyNode?i="/":i=`></${o}`,i},T.prototype.buildTextValNode=function(o,i,u,t){if(this.options.cdataPropName!==!1&&i===this.options.cdataPropName)return this.indentate(t)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&i===this.options.commentPropName)return this.indentate(t)+`<!--${o}-->`+this.newLine;if(i[0]==="?")return this.indentate(t)+"<"+i+u+"?"+this.tagEndChar;{let e=this.options.tagValueProcessor(i,o);return e=this.replaceEntitiesValue(e),e===""?this.indentate(t)+"<"+i+u+this.closeTag(i)+this.tagEndChar:this.indentate(t)+"<"+i+u+">"+e+"</"+i+this.tagEndChar}},T.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let i=0;i<this.options.entities.length;i++){const u=this.options.entities[i];o=o.replace(u.regex,u.val)}return o};function V(o){return this.options.indentBy.repeat(o)}function v(o){return o.startsWith(this.options.attributeNamePrefix)&&o!==this.options.textNodeName?o.substr(this.attrPrefixLen):!1}return U=T,U}var Y,ie;function Ne(){if(ie)return Y;ie=1;const P=oe(),I=he(),T=pe();return Y={XMLParser:I,XMLValidator:P,XMLBuilder:T},Y}var Ee=Ne();export{Ee as f};
