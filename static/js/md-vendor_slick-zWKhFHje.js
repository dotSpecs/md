var w,P;function D(){if(P)return w;P=1;var y=/([-.*+?^${}()|[\]\/\\])/g,S=/\\/g,s=function(i){return(i+"").replace(y,"\\$1")},a=function(i){return(i+"").replace(S,"")},q=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+s(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),d=function(e){this.combinator=e||" ",this.tag="*"};d.prototype.toString=function(){if(!this.raw){var i="",e,r;if(i+=this.tag||"*",this.id&&(i+="#"+this.id),this.classes&&(i+="."+this.classList.join(".")),this.attributes)for(e=0;r=this.attributes[e++];)i+="["+r.name+(r.operator?r.operator+'"'+r.value+'"':"")+"]";if(this.pseudos)for(e=0;r=this.pseudos[e++];)i+=":"+r.name,r.value&&(i+="("+r.value+")");this.raw=i}return this.raw};var p=function(){this.length=0};p.prototype.toString=function(){if(!this.raw){for(var i="",e=0,r;r=this[e++];)e!==1&&(i+=" "),r.combinator!==" "&&(i+=r.combinator+" "),i+=r;this.raw=i}return this.raw};var L=function(i,e,r,f,o,E,u,l,j,A,h,M,v,B,z,c){var t,n;if((e||!this.length)&&(t=this[this.length++]=new p,e))return"";if(t||(t=this[this.length-1]),(r||f||!t.length)&&(n=t[t.length++]=new d(r)),n||(n=t[t.length-1]),o)n.tag=a(o);else if(E)n.id=a(E);else if(u){var g=a(u),R=n.classes||(n.classes={});if(!R[g]){R[g]=s(u);var $=n.classList||(n.classList=[]);$.push(g),$.sort()}}else v?(c=c||z,(n.pseudos||(n.pseudos=[])).push({type:M.length==1?"class":"element",name:a(v),escapedName:s(v),value:c?a(c):null,escapedValue:c?s(c):null})):l&&(h=h?s(h):null,(n.attributes||(n.attributes=[])).push({operator:j,name:a(l),escapedName:s(l),value:h?a(h):null,escapedValue:h?s(h):null}));return""},m=function(e){this.length=0;for(var r=this,f=e,o;e;){if(o=e.replace(q,function(){return L.apply(r,arguments)}),o===e)throw new Error(f+" is an invalid expression");e=o}};m.prototype.toString=function(){if(!this.raw){for(var i=[],e=0,r;r=this[e++];)i.push(r);this.raw=i.join(", ")}return this.raw};var F={},Q=function(i){return i==null?null:(i=(""+i).replace(/^\s+|\s+$/g,""),F[i]||(F[i]=new m(i)))};return w=Q,w}export{D as r};
