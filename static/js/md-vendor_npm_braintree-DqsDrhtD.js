var o={},e={},m;function p(){return m||(m=1,Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"),e}var d;function f(){if(d)return o;d=1,Object.defineProperty(o,"__esModule",{value:!0}),o.sanitizeUrl=void 0;var t=p();function g(r){return t.relativeFirstCharacters.indexOf(r[0])>-1}function v(r){var n=r.replace(t.ctrlCharactersRegex,"");return n.replace(t.htmlEntitiesRegex,function(a,i){return String.fromCharCode(i)})}function x(r){return URL.canParse(r)}function h(r){try{return decodeURIComponent(r)}catch{return r}}function C(r){if(!r)return t.BLANK_URL;var n,a=h(r.trim());do a=v(a).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),a=h(a),n=a.match(t.ctrlCharactersRegex)||a.match(t.htmlEntitiesRegex)||a.match(t.htmlCtrlEntityRegex)||a.match(t.whitespaceEscapeCharsRegex);while(n&&n.length>0);var i=a;if(!i)return t.BLANK_URL;if(g(i))return i;var u=i.trimStart(),R=u.match(t.urlSchemeRegex);if(!R)return i;var c=R[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(c))return t.BLANK_URL;var l=u.replace(/\\/g,"/");if(c==="mailto:"||c.includes("://"))return l;if(c==="http:"||c==="https:"){if(!x(l))return t.BLANK_URL;var s=new URL(l);return s.protocol=s.protocol.toLowerCase(),s.hostname=s.hostname.toLowerCase(),s.toString()}return l}return o.sanitizeUrl=C,o}var U=f();export{U as d};
